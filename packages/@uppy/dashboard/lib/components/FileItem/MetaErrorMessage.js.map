{"version":3,"sources":["MetaErrorMessage.js"],"names":["h","require","metaFieldIdToName","metaFieldId","metaFields","field","filter","f","id","name","module","exports","renderMissingMetaFieldsError","props","file","toggleFileCard","i18n","missingRequiredMetaFields","length","metaFieldsString","map","missingMetaField","join","smart_count","fields"],"mappings":"AAAA,MAAM;AAAEA,EAAAA;AAAF,IAAQC,OAAO,CAAC,QAAD,CAArB;;AAEA,MAAMC,iBAAiB,GAAG,CAACC,WAAD,EAAcC,UAAd,KAA6B;AACrD,QAAMC,KAAK,GAAGD,UAAU,CAACE,MAAX,CAAkBC,CAAC,IAAIA,CAAC,CAACC,EAAF,KAASL,WAAhC,CAAd;AACA,SAAOE,KAAK,CAAC,CAAD,CAAL,CAASI,IAAhB;AACD,CAHD;;AAKAC,MAAM,CAACC,OAAP,GAAiB,SAASC,4BAAT,CAAuCC,KAAvC,EAA8C;AAC7D,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA,cAAR;AAAwBC,IAAAA,IAAxB;AAA8BZ,IAAAA;AAA9B,MAA6CS,KAAnD;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAgCH,IAAtC;;AACA,MAAI,EAACG,yBAAD,YAACA,yBAAyB,CAAEC,MAA5B,CAAJ,EAAwC;AACtC,WAAO,IAAP;AACD;;AAED,QAAMC,gBAAgB,GAAGF,yBAAyB,CAACG,GAA1B,CAA8BC,gBAAgB,IACrEnB,iBAAiB,CAACmB,gBAAD,EAAmBjB,UAAnB,CADM,EAEtBkB,IAFsB,CAEjB,IAFiB,CAAzB;AAIA,SACE;AAAK,IAAA,SAAS,EAAC;AAAf,KACGN,IAAI,CAAC,2BAAD,EAA8B;AACjCO,IAAAA,WAAW,EAAEN,yBAAyB,CAACC,MADN;AAEjCM,IAAAA,MAAM,EAAEL;AAFyB,GAA9B,CADP,EAKG,GALH,EAME;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,kDAFR;AAGE,IAAA,OAAO,EAAE,MAAMJ,cAAc,CAAC,IAAD,EAAOD,IAAI,CAACN,EAAZ;AAH/B,KAKGQ,IAAI,CAAC,UAAD,CALP,CANF,CADF;AAgBD,CA3BD","sourcesContent":["const { h } = require('preact')\r\n\r\nconst metaFieldIdToName = (metaFieldId, metaFields) => {\r\n  const field = metaFields.filter(f => f.id === metaFieldId)\r\n  return field[0].name\r\n}\r\n\r\nmodule.exports = function renderMissingMetaFieldsError (props) {\r\n  const { file, toggleFileCard, i18n, metaFields } = props\r\n  const { missingRequiredMetaFields } = file\r\n  if (!missingRequiredMetaFields?.length) {\r\n    return null\r\n  }\r\n\r\n  const metaFieldsString = missingRequiredMetaFields.map(missingMetaField => (\r\n    metaFieldIdToName(missingMetaField, metaFields)\r\n  )).join(', ')\r\n\r\n  return (\r\n    <div className=\"uppy-Dashboard-Item-errorMessage\">\r\n      {i18n('missingRequiredMetaFields', {\r\n        smart_count: missingRequiredMetaFields.length,\r\n        fields: metaFieldsString,\r\n      })}\r\n      {' '}\r\n      <button\r\n        type=\"button\"\r\n        class=\"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn\"\r\n        onClick={() => toggleFileCard(true, file.id)}\r\n      >\r\n        {i18n('editFile')}\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n"]}